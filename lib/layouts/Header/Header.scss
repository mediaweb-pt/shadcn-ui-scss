.rkt-topmenu {
    & {
        --_color-primary: var(--color-primary);
        --_top-menu-bg-color: var(--header-color);
        --_background-neutral-2: var(--color-neutral-2);
        --_text-color: var(--color-neutral-8) --_top-menu-border: var(--border-size-none);
        --_links-border: var(--border-size-m) solid transparent;

        --_top-menu-icon-size: var(--space-base);
        --_top-menu-icon-font-size: var(--font-size-base);
        --_icon-before-size: 9px;
        --_dot-before-size: 14px;

        --_font-size-xs: var(--font-size-xs);

        --_top-menu-shadow: var(--shadow-none);

        --_top-menu-size: var(--header-size);
        --_top-menu-transition: var(--_layout-transition, 300ms ease-in-out);

        --_logo-padding: var(--space-none) var(--space-base);
        --_links-padding: var(--space-s) var(--space-base);

        --_top-menu-width: var(--_sidemenu-width, 300px);

        background-color: var(--_top-menu-bg-color);
        border-bottom: var(--_top-menu-border);
        box-shadow: var(--_top-menu-shadow);
    }

    &__aside {
        background-color: var(--_background-neutral-2);
        font-size: var(--_font-size-xs);

        .rkt-topmenu__links {
            .osui-submenu__header__icon:before {
                border-color: var(--_text-color);
            }
        }
    }

    &__main {
        height: var(--_top-menu-size);
        position: relative;
    }

    &__content {
        align-items: center;
        display: flex;
        height: 100%;
        justify-content: space-between;

        &.rkt-mirrored {
            flex-flow: row-reverse;
        }

        .rkt-topmenu__actions {
            &:first-child {
                padding-left: var(--space-none);
            }
        }
    }

    &__logo,
    &__actions {
        align-items: center;
        display: flex;
        flex: 0 0 auto;
        gap: var(--space-base);
        height: 100%;
        max-width: 100%;
        width: auto;
    }

    &__logo {
        padding: var(--_logo-padding);
    }

    &__actions {
        padding-left: var(--space-base);
    }

    &__menu {
        align-items: center;
        display: flex;
        flex: 1 0 0%;
        height: 100%;
        max-width: 100%;
        width: 100%;

        .rkt-mirrored & {
            justify-content: flex-end;
        }

        & > .ph {
            width: 100%;
        }
    }

    &__nav {
        position: relative;

        .rkt-topmenu__links {
            min-height: var(--_top-menu-size);
        }
    }

    &__links {
        display: flex;
        flex-flow: row nowrap;
        flex-grow: 1;
        height: 100%;

        &.rkt-mirrored {
            flex-flow: row-reverse;
        }

        a {
            align-items: center;
            border-bottom: var(--_links-border);
            color: var(--_text-color);
            display: inline-flex;
            justify-content: flex-start;
            margin-left: var(--space-none);
            padding: var(--_links-padding);
            position: relative;
            text-decoration: none;
            transition: all var(--_top-menu-transition);

            &:hover {
                background-color: var(--_background-neutral-2);
            }

            &.active {
                border-color: var(--_color-primary);
                color: var(--_color-primary);
            }
        }

        .osui-submenu,
        .rkt-megamenu {
            --_megamenu-padding: var(--_links-padding);
            --_megamenu-border-none: var(--_top-menu-border);
            --_megamenu-border-bottom: var(--_links-border);
            --_megamenu-border-neutral-6: var(--color-neutral-6);

            &__header {
                border-bottom: var(--_megamenu-border-bottom);
                border-top: var(--_megamenu-border-none);
                padding: var(--_megamenu-padding);

                &__item {
                    color: var(--_text-color);
                }

                &__icon {
                    align-items: center;
                    height: var(--_top-menu-icon-size);
                    justify-content: center;
                    width: var(--_top-menu-icon-size);

                    &:before {
                        border-color: var(--_megamenu-border-neutral-6);
                        height: var(--_icon-before-size);
                        width: var(--_icon-before-size);
                    }
                }
            }
        }

        .osui-submenu {
            &:hover,
            &--is-open {
                .osui-submenu__header {
                    background-color: var(--_background-neutral-2);

                    &__item {
                        color: var(--_text-color);
                    }
                }
            }

            &.active {
                .osui-submenu__header {
                    border-color: var(--_color-primary);

                    &__item {
                        color: var(--_color-primary);
                    }

                    &__icon:before {
                        border-color: var(--_color-primary);
                    }
                }
            }

            &__items {
                min-width: 100%;
                padding: var(--space-none);
            }
        }

        .rkt-megamenu {
            &:hover .rkt-megamenu__header {
                background-color: var(--_background-neutral-2);
            }

            &:has(.active) .rkt-megamenu__header {
                border-color: var(--_color-primary);

                &__item {
                    color: var(--_color-primary);
                }

                &__icon:before {
                    border-color: var(--_color-primary);
                }
            }

            &__content {
                a {
                    border: var(--_megamenu-border-none);
                    color: var(--color-neutral-9);
                    margin-left: var(--space-none);

                    &:hover {
                        background-color: transparent;
                    }
                }
            }
        }

        .fa,
        .dot {
            flex: 0 0 auto;
            height: var(--_top-menu-icon-size);
            line-height: var(--_top-menu-icon-size);
            margin-right: var(--space-s);
            text-align: center;
            width: var(--_top-menu-icon-size);
        }

        .fa {
            font-size: var(--_top-menu-icon-font-size);
        }

        .dot {
            margin-top: var(--space-none);

            &:before {
                height: var(--_dot-before-size);
                width: var(--_dot-before-size);
            }
        }

        & > .OSBlockWidget {
            display: contents;
        }

        .phone &,
        .tablet & {
            flex-direction: column;

            .osui-submenu__items a {
                padding-left: calc(var(--space-base) + var(--_top-menu-icon-size) + var(--space-s));
            }
        }
    }

    //* ============================ SkylineScroll behavior styles ============================ *//

    &-skyline--transparent {
        --_animation-duration: 300ms;
        --_animation-fill-both: both;
        --_animation-fill-inital: initial;
        --_animation-name: animationSlideInDown;

        .rkt-header {
            &:not(.rkt-topmenu-skyline--transparent-anim) {
                .phone &,
                .tablet & {
                    background: transparent;
                    position: relative;
                }

                .desktop & {
                    &,
                    .rkt-topmenu,
                    .rkt-topmenu__aside {
                        background: transparent;
                        border: var(--border-size-none);
                        position: relative;
                    }
                }
            }

            &.rkt-topmenu-skyline--transparent-anim {
                animation-duration: var(--_animation-duration);
                animation-fill-mode: var(--_animation-fill-both);
                animation-name: var(--_animation-name);
                position: sticky;
                z-index: var(--layer-global-instant-interaction);

                .phone &,
                .tablet & {
                    animation-fill-mode: var(--_animation-fill-inital);
                }
            }
        }
    }

    @keyframes animationSlideInDown {
        from {
            transform: translate3d(0, -100%, 0);
            visibility: visible;
        }

        to {
            transform: translate3d(0, 0, 0);
        }
    }
    //* ========================================================================================= *//

    .rkt-header--elevated:not(.rkt-sidemenu--secondary) & {
        .desktop & {
            &__logo {
                width: var(--_side-menu-size);
            }
        }
    }

    .rkt-layout-side & {
        & > div > .ThemeGrid_Container {
            max-width: 100%;
        }
    }

    .rkt-layout-top & {
        .phone &,
        .tablet & {
            --_mobile-border: var(--border-size-s) solid var(--color-neutral-4);
            --_mobile-osui__header-padding: var(--space-s) var(--space-base);
            --_mobile-margin: var(--space-base) var(--space-none);
            --_mobile-padding: var(--space-none) var(--space-base);

            border-bottom: var(--_top-menu-border);
            border-right: var(--_top-menu-border);
            display: flex;
            flex-direction: column;
            height: 100%;
            left: var(--space-none);
            position: fixed;
            top: var(--space-none);
            transform: translateX(-100%);
            transition: var(--_top-menu-transition);
            will-change: transform;
            z-index: var(--layer-global-instant-interaction);

            &__aside {
                order: 2;

                .osui-submenu__header {
                    padding: var(--_mobile-osui__header-padding);
                }
            }

            &__main {
                border-bottom: var(--_mobile-border);
                flex: 1;
                height: auto;
                width: var(--_top-menu-width);
            }

            &__content,
            &__menu {
                align-items: stretch;
                flex-direction: column;
            }

            &__logo {
                display: none;
            }

            &__actions {
                flex-direction: column;
                height: auto;
                margin: var(--_mobile-margin);
                order: 3;
                overflow-x: auto;
                padding: var(--_mobile-padding);
            }

            &__nav {
                order: 1;
            }

            .ThemeGrid_Container {
                padding: var(--space-none);
            }
        }
    }

    .rkt-layout-top.rkt-sidemenu--visible & {
        .phone &,
        .tablet & {
            transform: translateX(0%);
            transition: transform var(--_top-menu-transition);
        }
    }
}
